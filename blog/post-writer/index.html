<html>
    <head>
        <title>8BitJake - Blog Post Writer</title>
        <link rel="stylesheet" href="/assets/css/style.css">
        <link rel="stylesheet" href="/assets/css/blog/writer.css">
        <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" crossorigin="anonymous"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/svg+xml" href="/icon.svg">
        <meta charset="utf-8">

        <meta name="description" content="8bit posts about shit: the movie" />
    <meta property="og:url" content="http://8bitjake.github.io/blog/post-writer" />   
    <meta property="og:type" content="website" />
    <meta property="og:title" content="8BitJale's Website"/>
    <meta property="og:description" content="8bit posts about shit: the movie" />
    <meta property="og:image" content="https://8bitjake.github.io/icon.svg" />
    <meta property="og:image:type" content="image/png" />
    </head>
    <body>
        <header>
            <div class="header-content">
            <a href="/">home</a> | 
            <a href="/characters">characters</a> |
            <a href="/bfancn status">bfancn status</a> |
            <a href="/blog">blog</a> | &copy; 2021 8BitJake
                </span>
        </div>
        </header>
    <div class="body">
        <span id="copy" style="display:none;"></span>
        <a href="../">⬅ Go back</a>
        <h1>Post Writer</h1>
        <h2 class="caption">Use this to write your own blog posts in JSON format.<br>
        It's recommended that you use a PC for this tool and not a mobile device.<br>
    Make sure to remove all in-text line breaks before copying</h2>
        <div class="controls">
            <input type="text" id="title" value="The Blog Post Writer!"> <button onclick="copyJson();">Copy JSON data to clipboard</button><br><br>
            <textarea id="content" placeholder="HTML code goes here..." style="width:50%; height:10%;"></textarea>
            </div>
            <br>
            <div class="main">
            <div class="post"><br><br><br>
            <div class="postContent"><p class="postName">Title</p><hr class="divider"><p class="postText">Post Content</p></div></div>
    </div>
    </div>
    </div>
</body>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="/assets/js/index.js" defer></script>
<script type="text/javascript">
    var weekDays = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
    var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    var dateObj = new Date();

function copy(text) {
    var input = document.createElement('textarea');
    input.innerHTML = text;
    document.body.appendChild(input);
    input.select();
    var result = document.execCommand('copy');
    document.body.removeChild(input);
    return result;
}

function getTime(hours,minutes){
    var time = '';
    var ampm = 'AM';
    if(hours > 12){
        ampm = 'PM';
    }
    if(hours == 0){
        hours = 12;
    }else if(hours > 12){
        hours -= 12;
    }
    if(minutes < 10){
        minutes = '0' + minutes;
    }
    time += hours + ':' + minutes + ' ' + ampm;
    return time;
}

function copyJson() {
    var txt = ',{"title":"' + document.getElementById('title').value + '","date":"'+ weekDays[dateObj.getUTCDay()]+', '+months[dateObj.getUTCMonth()]+' '+dateObj.getUTCDate()+', '+dateObj.getUTCFullYear()+', at '+getTime(dateObj.getHours(),dateObj.getMinutes())+'","content":"' + document.getElementById('content').value + '"}'
    document.querySelector('#copy').innerHTML = txt
    copy(document.querySelector('#copy').innerHTML)
    alert('The JSON data has been copied!')
}
document.getElementsByTagName('textarea')[0].innerHTML = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quis erat euismod, hendrerit nunc in, volutpat nisl. Aenean orci lorem<br>mattis non diam quis, ultricies aliquam neque. Quisque tempor ut felis et maximus. Maecenas lobortis justo posuere, dictum leo vitae,<br>aliquet sapien.'
const whitespaceChars = [' ', '', '​', ' ']

setInterval(function(){
    
    if (!whitespaceChars.includes(document.getElementById('title').value)) {
         document.getElementsByClassName('postName')[0].innerHTML = document.getElementById('title').value
        } else {
            document.getElementsByClassName('postName')[0].innerHTML = '(invalid title)'
        }
        document.getElementsByClassName('postText')[0].innerHTML = document.getElementById('content').value
}, 0);

let page = "post-writer"
</script>
</html>